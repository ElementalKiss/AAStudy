# 항목 13 : 동적으로 할당한 배열보다는 vector와 string이 낫다

# new 연산자를 써서 동적 할당문을 작성할 때 주의 해야 할 것

* 할당한 메모리는 꼭 해제 해야 함. delete 없는 new는 메모리 누수라는 재앙을 일으킴.
* delete도 메모리 타입에 따라 다르게 써야함. (하나의 객체 delete, 배열은 delete[])
* delete는 new 한 번당 한 번만 호출 해야함.
* 이런 문제들을 쉽게 해결 해주는 해결사는 vector와 string! 바로 STL 컨테이너!

# vector, string

* 자체적으로 메모리를 관리 하기 때문에 프로그래머가 위에서 언급된 3가지 부담을 없애줌.
* 요소가 추가 될 때 메모리가 커지며 메모리에서 소멸 될 때 각 객체의 소멸자를 통해 해당 컨테이너안의 요소를 모두 없애줌과 동시에 각 요소들이 점유하고 있던 메모리도 해제시킴.
* STL에서 지원되는 모든 알고리즘을 적용 가능 (C++ 배열도 사용 할 수 있긴 함)

# string

* 참조 카운팅이 동작 되도록 구현함으로써 불필요한 메모리 할당과 문자 복사를 없앰으로써 높은 수행 성능을 냄.
* string은 basic_string\<char>의 typedef.
* 다중 쓰레드 환경에서 사용 시 메모리 할당이나 복사에서 절약된 시간을 동시성 제어에 걸리는 오버헤드가 잡아먹는 경우 발생

# 다중 쓰레드에서의  string의 문제점 극복하기

* string의 참조 카운팅 기능을 끄기, 대개 전처리자의 변수 값을 바꿈으로써 가능.
* 참조 카운팅을 사용하지 않는 다른 string을 구현.
* vector\<char> ~~사용~~고려.